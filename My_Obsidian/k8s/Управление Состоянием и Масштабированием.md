### 3. StatefulSet (Наборы с сохранением состояния)

- **Роль:** Используется для приложений, которые требуют **уникальной сетевой идентификации** (стабильный $\text{hostname}$), **стабильного порядка развертывания** (Ordinal Index) и **постоянного хранения** ($\text{Persistent Volume Claim}$) для каждого экземпляра.
    
- **Применение:** Идеально подходит для баз данных ($\text{PostgreSQL}$, $\text{MongoDB}$), брокеров сообщений ($\text{Kafka}$) и распределенных файловых систем.
    
- **Отличие от Deployment:**
    
    - $\text{Deployment}$ подходит для **Stateless** (без сохранения состояния) приложений.
        
    - $\text{StatefulSet}$ гарантирует, что $\text{Pod}$ №0 всегда будет $\text{Pod}$ №0, даже после перезапуска или переноса на другой $\text{Node}$.
        

### 4. DaemonSet (Набор демонов)

- **Роль:** Гарантирует, что **одна копия** $\text{Pod}$'а работает **на каждом** выбранном узле ($\text{Node}$) в кластере.
    
- **Применение:** Используется для кластерных утилит, которые должны быть активны на каждом узле:
    
    - Сборщики логов ($\text{Fluentd}$, $\text{Logstash}$).
        
    - Мониторинг ($\text{Node Exporter}$ для $\text{Prometheus}$).
        
    - Сетевые плагины ($\text{CNI}$ - например, $\text{Calico}$).